---
title: "ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã®å¤‰æ•°å®šç¾©"
emoji: "ðŸ”¢"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["shell"]
published: false
---

ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½¿ã£ã¦ã„ã‚‹ã¨ãã«ã€å¤‰æ•°`VAR`ãŒå®šç¾©ã•ã‚Œã¦ã„ãªã„å ´åˆã®åˆæœŸå€¤ã‚’è¨­å®šã™ã‚‹æ–¹æ³•ã€‚

# ifæ–‡ã‚’ä½¿ã£ãŸæ–¹æ³•
æ›¸ãæ–¹ã¨ã—ã¦ã¯å†—é•·ã«ãªã£ã¦ã—ã¾ã†ã€‚
å¤‰æ•°`VAR`ãŒ NULLï¼ˆæ–‡å­—åˆ—ã®é•·ã•ãŒ 0ï¼‰ã‹ã©ã†ã‹ã‚’åˆ¤å®šã—ã¦ã€NULL ã§ã‚ã‚Œã°å€¤ã‚’ä»£å…¥ã™ã‚‹ã€‚

``` bash
if [ -z "$VAR" ]; then
VAR=hoge
fi
echo $val
#=> hoge
```

# å¤‰æ•°å±•é–‹{}ä¸­ã§æ¼”ç®—å­ã‚’ä½¿ã£ã¦ã€å¤‰æ•°ã®å­˜åœ¨ã‚„å€¤ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹
`-` ã€ `=` ã€ `?` ã€ `+` æ¼”ç®—å­ã¨ `:` ã‚’ä½¿ã†ã€‚

## `${VAR:-hoge}`
å¤‰æ•° `VAR` ãŒæœªå®šç¾© or NULL ã®å ´åˆã€æŒ‡å®šã—ãŸå€¤ `hoge` ã‚’è¿”ã™ã€‚
ã“ã®ã¨ãã€`VAR` ã« `hoge` ã¯ **ä»£å…¥ã•ã‚Œãªã„**ã€‚

``` bash
# VAR ã¯æœªå®šç¾©
echo $VAR
#=>
echo ${VAR:-hoge}
#=> hoge
echo $VAR
#=>
```

## `${VAR:=hoge}`
å¤‰æ•°`VAR`ãŒæœªå®šç¾© or NULL ã®å ´åˆã€æŒ‡å®šã—ãŸå€¤`hoge`ã‚’è¿”ã™ã€‚
ã•ã‚‰ã«ã€`VAR`ã«`hoge`ãŒ **ä»£å…¥ã•ã‚Œã‚‹**ã€‚

``` bash
# VAR ã¯æœªå®šç¾©
echo $VAR
#=>
echo ${VAR:=hoge}
#=> hoge
echo $VAR
#=> hoge
```

## `${VAR:?hoge}`
å¤‰æ•°`VAR`ãŒæœªå®šç¾© or NULL ã®å ´åˆã€æ¨™æº–ã‚¨ãƒ©ãƒ¼å‡ºåŠ›ã«å‡ºåŠ›ã•ã‚Œã€ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å®Ÿè¡Œã‚’çµ‚äº†ã™ã‚‹ã€‚

``` bash
# VAR ã¯æœªå®šç¾©
echo $VAR
#=>
echo ${VAR:?hoge}
#=> -bash: VAR: hoge
```

å¤‰æ•°`VAR`ãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹å ´åˆã¯ã€å®šç¾©æ¸ˆã¿ã®å€¤ãŒå‡ºåŠ›ã•ã‚Œã‚‹ã€‚

``` bash
VAR=fuga
echo $VAR
#=> fuga
echo ${VAR:?hoge}
#=> fuga
```

## `${VAR:+hoge}`
å¤‰æ•°`VAR`ãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹å ´åˆã€æŒ‡å®šã—ãŸå€¤`hoge`ã‚’è¿”ã™ã€‚

``` bash
VAR=fuga
echo $VAR
#=> fuga
echo ${VAR:+hoge}
#=> hoge
```

å¤‰æ•°ãŒæœªå®šç¾© or NULL ã®å ´åˆã«ã¯ NULL ã‚’è¿”ã™ã€‚

``` bash
# VAR ã¯æœªå®šç¾©
echo $VAR
#=>
echo ${VAR:+hoge}
#=>
```

---

Copy from https://qiita.com/tdrk/items/cc2995fd74e659ea948f
